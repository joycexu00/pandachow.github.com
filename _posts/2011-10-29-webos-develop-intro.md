---
layout: post
title: WebOS开发 —— WebOS面面观
categories:
- technology
tags:
- webOS
- Mobile Development
---

把玩了好几天的veer，对WebOS兴趣非常浓厚，决定将业余时间的一部分投身给WebOS开发了。最近在机锋上看到一篇webOS的开发教程连载，遂研习两日，选择部分整理转载之。标题是我起的。= =

## 从硬件到软件：WebOS
Pre，其所有硬件的辉煌都无法使得让它再次回到顶峰，因为在大部分人看来，iphone是一台神奇的设备足够让它站在顶峰上。因此Palm要有区别与苹果或是其他设备的东西。

如果智能手机没有一个强大的操作系统，那它仅仅是一个令人印象深刻的技术而已。操作系统使手机变得有用的、有价值的，正是因为这个才使得iphone如此的被看好。这是WEBOS发展的第二个也是最重要的方向。

webOS让pre区别于其他的竞争对手，并且很多人觉得这是个革命性的成就。首先要做的就是要让Pre在外形或是形式上有别与其他。WEBOS能很好地运行与其他的系统，相反，苹果却只能运行于IPHONE。从以往的苹果作为看来,不管你个人更喜欢与否,它都控制了这一切，包括软件、硬件等，这些都在苹果iphone的控制范围内。

Palm，在另一方面有点像微软，因为它创造了一个能运用与多个设备的系统。但又不像微软，PALM同时也创造了第一个运行webOS的设备——PRE.

到底是什么让PALM与众不同？最重要的事是开发一个webOS的应用，除了写网络应用就不再需要其他的了。你编写HTML、CSS、JavaScript。webOS提供了一个丰富的应用程序接口（API），还有能够让你整合JavaScript代码到设备的服务。我再重复一遍，你别再错过了：开发webOS程序或是运行这个系统的设备（比如PALM PRE）不仅仅是编写一个网络应用。编写WEBOS程序，你需要像编写网络程序一样的全部技术和技巧。

这是一个革命性的概念，这并非完全原创，因为也有其他像这工作方式的系统，但Palm是真正的第一家主流公司，在智能手机领域，也是唯一一家提供这个的。

为什么这个是革命性，还是如此重要的？简单的说，因为开发的门槛远低于其他竞争对，开发者10—15年以前的知识同样还能用。

另一个webOS的革命性概念就是“云端”，数据存储,甚至在程序执行都可以通过网络。换句话说，远程数据源、数据更新和远程同步都是用户体验的核心，这是操作系统最基本的处理方式。这些不仅仅是对其他平台的一个附加。

所有的这一切意味着webOS给你的本地应用能力，同时通过建立Web发展模式的强项，提供更丰富的经验，这重点是正视现代移动用户的关注。

如果你对更多的技术细节感兴趣，那你也有可能知道WEBOS是一个基于Linux2.6内核的衍生产品。它使用标准的通过udev管理的驱动器架构，并利用其专有的引导加载程序（我想你也应该猜的到， Palm-provided组件就像开源能够很好地融入WEBOS。存在两个文件系统分区：一个私人的ext3-based分区供内部使用；FAT32-based“媒体”分区是你自己的存储空间，这个是通过USB模式来传递文件的。媒体文件是通过gstreamer来处理的，这项对于很多的音频和视频解码都能支持。

注：在这以前，大部分时间你不在乎webOS是基于Linux或AmigaO，但在这样的情况下你必须得注意了：调试模拟器。你会进入操作系统、查看文件和Linux标准命令行工具。我不知道你们怎么想的,但是事实上,我可以SSH我的手机！关于这点我今后还会谈的更多。

如下图所示，你能看到webOS的整体结构，它不是一个其他扩展的复杂模式，不过他能够帮你认识到你所写代码的位置。简单地说，图形说明了你的应用程序是最高等级的，它与Mojo框架是相互的，这个我们看到的不少，通过MOJO你能够访问on-device服务。系统用户界面管理组件是WEBOS最基本的部分。,在某种意义上协调这些部件的服务,提供用户体验。最后，Linux-based “core,” 或webOS是所有的最底层。

[![](http://panda0411.com/wordpress/wp-content/uploads/2011/10/webos_framwork.jpg)](http://panda0411.com/wordpress/wp-content/uploads/2011/10/webos_framwork.jpg)这门书的大部分都是学习编写程序的MOJO框架。简而言之，MOJO是进过webOS和Palm Pre的大门。应用环境是你在Palm圈里所听到的。他指的是webOS中部分暴露在你的应用中，也就是说，MOJO和Palm Pre是提供应用“低水平”类型功能的on-device服务。比如加载MP3到播放器，浏览器打开网页、发送邮件，这些都是服务允许你做的。应用环境同事也包括用户界面，我们将在下面说明。

## 用户界面是问题的关键所在
最重要的一个方面是webOS的用户界面(UI),因为这里是实际上代表提供大部分用户丰富的webOS体验. webOS的为用户提供了简单而丰富的隐喻，逻辑的方式等。webOS的用户界面考虑的是用户的第一感觉：他们是手机！他们没有全键盘，他们没有强大前置摄像头。他们往往甚至没有舒适的椅子来坐下。

很多智能手机和这之前的手机对用户界面都没有足够的考虑。Iphone在这领域根据你的喜好提供了合适的UI设计。比较简单事，比如在触摸屏上提供大的目标方便点击，用手势来代替键盘的操作，这些对用户来说都使得用户体验有了很大的提升。WebOS的用户界面确实也是非常出众的，下图是我在SDK 2.1.0.519，分辨率为320*400（即veer的分辨率）里面截的图。

[![](http://panda0411.com/wordpress/wp-content/uploads/2011/10/SDK-2.1.0.519-320x400-Running-Oracle-VM-VirtualBox_004.png)](http://panda0411.com/wordpress/wp-content/uploads/2011/10/SDK-2.1.0.519-320x400-Running-Oracle-VM-VirtualBox_004.png)

##所任务和动作
很多人认为webOS超越iphone的最主要的因素就是webOS的多任务。可以肯定的是在今天的只能手机领域，这不是一个最初的想法,甚至不是独特的，但却很有操作系统能做好它。举个例子,iphone在同一时间只局限运行一个应用程序运。webOS设备,如pre,就没有这样的限制,事实上，我们是鼓励你保持应用程序在后台运行,因为在那时webOS能够参与cloud-based服务,例如, 更新信息等等。

随着webOS，Palm介绍了动作的特殊意义。这个想法就是一个给定的动作可能包括许多不同应用或是多个不同独立角度看的应用。例如,也许你是组成一个电子邮件给朋友,期间需要在网页上去寻找信息。所以,你打开网络浏览器,进入你需要的网站,并将你想要发送的信息复制出来。然后你把电子邮件应用调回到最前面，粘贴信息,然后继续。所有这些都可被视为相同动作的一部分

## 卡片式界面
支持多任务用户界面是最基本的。用户界面在一个基本的水准上支持这个想法的多任务处理,它并不仅仅只是个补充。它的主要是为了引入卡片式界面。见图1-10。

简单的说,所有正在运行的程序都在屏幕上扩展,就像一副牌,你可以用你的手指在它们之间来回切换.你可以在屏幕上左右滑动你打开的卡片。你可以重新调整他们的位置，通过按住一张卡片，然后拖动到任意你想要的位置。

所有这一切都是通过动画和滑动来实现的,因此这样的体验是顺畅和有趣的，并且很有指导作用。在用户界面滑动对有助于引导用户，这样会让他们更加高效。

一个程序可能同时有多张卡片打开。例如，如果你在浏览器打开两个书签,那就会有两张卡片，就像是开着两个浏览器一样。一张卡片可以集成很多个应用，这是根据设计者来决定的。

在webOS中，卡片式界面是程序间的基本操作，并且简单、典雅,而有力的UI界面是唯一的用户体验。

## 导航和手势
你会注意到,我之前提到的触摸、滑动、拖拽。这些的手势操作的例子。还有许多会出现在webOS里:

- 触摸是最普遍的,这是简单的把你的手指按下去又迅速的拿开，相当于你在电脑上点鼠标一样，并且激活对象。比如，触碰那个按钮就相当于点击了那个按钮。
- 快速地从手势区往上滑（就是PRE下方那块区域，专门为手势操作设计的），当前打开的程序就会缩小，变成卡片。如果程序已经是卡片了，那么这个手势就打开Launcher界面。
- 快速地在手势区从右边滑到左边就是后退手势。这个类似于浏览器的后退按钮。如果有个新的程序出现在屏幕上，那就可以通过这个手势退回到之前的状态。（如果程序最大化了，那这个操作就会使得程序缩小成卡片）。
- 在卡片模式下，你可以按住卡片，往顶部拖动卡片，然后扔出屏幕外来关闭程序。
- 滚动,通过这个你可以向上或向下来滚动列表。只要在屏幕任何地方点击就可以停止滚动。这个遵循物理学原理，你会看到它慢慢地慢下来，最后停止（换句话说，它又动力，并受虚拟重力的影响）。

还有其他很多的手势操作，但这是最基本的，经常使用webOS程序你还会发现更多。这些都可以通过你的手指来实现，并且是非常直观:比如激活按钮,你就用手点击它,就像你在真实的世界一样。

## The Launcher
Launcher是webOS的另一个重要部分。上面一张图就是Launcher界面，简单的说,它就是你所有的应用程序的图标所在的界面,启动程序的地方。底部是快速启动栏，如果你没有最大化程序，那快速启动栏就会一直呈现着。快速启动栏可以让你启动你喜欢的程序或是其他添加的Launcher

如果你打开一个程序，它就会出现在屏幕上，并在前面显示。换句话说，就像你在电脑桌面最大化程序一样。

快速启动栏跟Launcher是相似的，这是一条很小的图标栏。你也可以用自己喜欢的图标来代替，并且这个图标总是存在于Launcher。快速启动栏也可以网上拖，就是我们平时所见的波浪了。这个很漂亮的说！

## 状态栏
状态栏是webOS用户界面的另一个元素，它存在于顶部,正如你所见的，电池状况、连接状态和当前时间等。同时，你也注意到了，左上角有个下拉菜单。这些叫做应用菜单，它跟当前的程序息息相关。有的程序可能会用到应用菜单，也可能不会用到，但是，如果应用程序需要，它给人好的、交互的感觉。

## 通知系统
WebOS的通知系统是它最引以为傲的一个地方，当有新的信息或者calendar出现的时候会在手机的底部弹出一个很小的窗口，而先前的界面，包括全屏都会被缩小。如果想查看更多信息，点击通知栏就能弹出了。