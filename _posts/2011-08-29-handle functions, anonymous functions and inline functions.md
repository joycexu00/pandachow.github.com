---
layout: post
title: 句柄函数, 匿名函数和inline内联函数
categories:
- 伪技术
tags:
- MATLAB
- 函数
---

**句柄函数**

所谓句柄函数, 个人理解其实和别名差不太多, 比较类似于linux下alias命令, 即可以对某个函数以别名来调用, 而同时并不改变原来的命令名. 这样当我们想使用某个函数的时候只要直接调用函数句柄而不用调用整个函数.

这里我们的函数句柄也是存放在变量的里面, 我们知道在matlab环境中变量可以用来存放很多东西, 包括数值, 字符串等等, 在这里不妨可以理解为存放函数. 不过显然我们以前所调用的各个函数都是一个一个的m文件, 不可能直接放到变量的里面, 因此我们是抓住函数的句柄(handle)来实现. 将句柄函数赋值给变量需要用到@符号, 晕, @原来在matlab里面也是有的....

语法: 变量名=@函数名. 此处的函数名可以使当前matlab中可以使用的任意函数. @的作用就是将一个函数的函数句柄赋值给等号左边的变量.在需要调用函数的时候直接调用句柄即可实现同样的功能.
示例

    
    z=[1 2 3];
    s=@sum;
    s(z)


此后可以直接用使用s()来替代原来的求和函数sum().

**匿名函数**

匿名函数可以说是函数句柄的一种特殊的用法, 这里所得到的函数句柄变量不指定向特定的函数(即不指向函数m文件中的函数名), 而是指向一个具体的函数表达式.

语法:变量名=@(输入参数列表)运算表达式 示例

    
    lc=@(x,y,z)(x*y*z);
    lc(2,3,4);


即可得到结果为24.

**内联函数**

inline函数不是函数句柄, 是另外一种类型, 也是可以用变量来表示函数, 用法上和一般函数, 函数句柄是一样的. 内联函数在用法上和匿名函数比较类似, 可以通过一个函数式进而得到该函数.

语法:
**1. 变量名=inline(表达式)**

示例:

    
    a='x+y';
    f=inline(a);
    f(2,3)


这样能得到的结果为5, 需要注意的是这里不能直接在inline里面定义表达式:

    
    f=inline(x+y);
    f(2+3)


这样是行不通的, matlab会判断x是未定义变量.

**2. 变量名=inline('函数表达式','变量名1','变量名2',...,'变量名n') **
示例:

    
    f=inline('x+y','x','y');
    f(2,3)


这样就能得到结果5, 比第一种方法更容易理解也不容易出错, 推荐~
